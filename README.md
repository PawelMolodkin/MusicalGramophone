# MusicalGramophone


Я использовал шаблон архитектуры MVVM, но, для обмена данными между ViewModel и View, желательно было бы использовать реактивное программирование, но по заданию использование либ и фреймворков запрещено.

Вопрос:
     Как сделать так, чтобы музыка играла при сворачивании приложения/выключении экрана?
     
Ответ: Раньше нужно было устанавливать специальные опции для AVAudioPlayer, сейчас же достаточно включить флаг в настройках проекта Capatibilies -> Background Modes -> Audio, Airplay, and Picture in Picture. 
PS: В проекте все выполнено, музыка играет даже в фоне и при блокировке экрана. 
Также я добавил Today Extension, в котором я добавил пока только одну кнопку Play/Stop (работает только если в фоне играет музыка), для ее функционирования пришлось добавить Wormhole ,чтобы не изобретать велосипед ( в остальном сторонние фреймворки и библиотеки не использовались ). В виджет в последствии можно добавить название трека, перемотку, и переключение между треками.
